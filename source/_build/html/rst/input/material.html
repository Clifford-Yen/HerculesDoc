<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Material &#8212; HerculesDoc  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/classic.css?v=514cf933" />
    
    <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Dimension" href="dimension.html" />
    <link rel="prev" title="Input file" href="inputFile.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="dimension.html" title="Dimension"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="inputFile.html" title="Input file"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">HerculesDoc  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="inputFile.html" accesskey="U">Input file</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Material</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="material">
<h1>Material<a class="headerlink" href="#material" title="Link to this heading">¶</a></h1>
<section id="one-dimensional-layered-profile">
<h2>One-dimensional layered profile<a class="headerlink" href="#one-dimensional-layered-profile" title="Link to this heading">¶</a></h2>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">cvmdb_input_file</span></code></dt><dd><ul class="simple">
<li><p>Type: Path/profile</p></li>
<li><p>Description: The path to the material information (crustal structure) database. A special way to assign the crustal structure is setting this parameter to <code class="docutils literal notranslate"><span class="pre">profile</span></code>, i.e.</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cvmdb_input_file</span> <span class="o">=</span> <span class="n">profile</span>
</pre></div>
</div>
<ul class="simple">
<li><p>By doing so, Hercules will use the crustal structure provided by parameters <code class="docutils literal notranslate"><span class="pre">number_profile_layers</span></code> and <code class="docutils literal notranslate"><span class="pre">profile_layers</span></code> in the same input file.</p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">number_profile_layers</span></code></dt><dd><ul class="simple">
<li><p>Type: Integer</p></li>
<li><p>Description: How many layers are the parameter <code class="docutils literal notranslate"><span class="pre">profile_layers</span></code> defines.</p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">profile_layers</span></code></dt><dd><ul class="simple">
<li><p>Type: Multiple numbers</p></li>
<li><p>Format: <code class="docutils literal notranslate"><span class="pre">z_top</span> <span class="pre">Vp</span> <span class="pre">Vs</span> <span class="pre">rho</span> <span class="pre">Qp</span> <span class="pre">Qs</span></code></p></li>
<li><p>Description: The crustal structure information defined for a layered half-space. The data should be written as many lines as parameter <code class="docutils literal notranslate"><span class="pre">number_profile_layers</span></code> defines. <code class="docutils literal notranslate"><span class="pre">z_top</span></code> is the depth (in meter), <code class="docutils literal notranslate"><span class="pre">Vp</span></code> and <code class="docutils literal notranslate"><span class="pre">Vs</span></code> are velocities for compressional and shear waves (in meter/second), <code class="docutils literal notranslate"><span class="pre">rho</span></code> is the density (in kg/meter <sup>3</sup>), and <code class="docutils literal notranslate"><span class="pre">Qp</span></code> and <code class="docutils literal notranslate"><span class="pre">Qs</span></code> are Q factor damping.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="istanbul-velocity-model">
<h2>Istanbul velocity model<a class="headerlink" href="#istanbul-velocity-model" title="Link to this heading">¶</a></h2>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">Istanbul_velocity_model</span></code></dt><dd><ul class="simple">
<li><p>Optional: Yes</p></li>
<li><p>Type: Yes or No</p></li>
<li><p>Description: Whether to use the velocity model developed for the Istanbul or not. If this parameter is set to <code class="docutils literal notranslate"><span class="pre">yes</span></code>, Hercules will replace the crustal structure information in the region that is covered by the Istanbul velocity model. For the rest of the region, the material information is still provided by the database or the profile that is assigned with the parameter <code class="docutils literal notranslate"><span class="pre">cvmdb_input_file</span></code>. This is an optional parameter and the default value is <code class="docutils literal notranslate"><span class="pre">no</span></code>.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="basin-velocity-model">
<h2>Basin velocity model<a class="headerlink" href="#basin-velocity-model" title="Link to this heading">¶</a></h2>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">basin_velocity_model</span></code></dt><dd><ul class="simple">
<li><p>Optional: Yes</p></li>
<li><p>Type: Yes or No</p></li>
<li><p>Description: Whether to use the velocity model developed for a basin. If this parameter is set to <code class="docutils literal notranslate"><span class="pre">yes</span></code>, Hercules will replace the crustal structure information within the basin. For the rest of the region, the material information is still provided by the database or the profile that is assigned with the parameter <code class="docutils literal notranslate"><span class="pre">cvmdb_input_file</span></code>. This is an optional parameter and the default value is <code class="docutils literal notranslate"><span class="pre">no</span></code>. Note that either <code class="docutils literal notranslate"><span class="pre">Istanbul_velocity_model</span></code> or <code class="docutils literal notranslate"><span class="pre">basin_velocity_model</span></code> can be set to <code class="docutils literal notranslate"><span class="pre">yes</span></code>. If both are set to <code class="docutils literal notranslate"><span class="pre">yes</span></code>, the Istanbul velocity model will be used.</p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">basin_input_file</span></code></dt><dd><ul class="simple">
<li><p>Optional: Conditional</p></li>
<li><p>Type: Path</p></li>
<li><p>Description: The path to the basin input file. This parameter is required when <code class="docutils literal notranslate"><span class="pre">basin_velocity_model</span></code> is set to <code class="docutils literal notranslate"><span class="pre">yes</span></code>. The basin input file is a text file that describes the boundary of the basin. The format of the basin input file is described in the section <a class="reference internal" href="#basin-input-file"><span class="std std-ref">Basin input file</span></a>.</p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">basin_origin_latitude_deg</span></code></dt><dd><ul class="simple">
<li><p>Optional: Conditional</p></li>
<li><p>Type: Float</p></li>
<li><p>Description: The latitude of the basin origin (in degree). Note that the origin is the left bottom corner of the domain of the basin. This parameter is required when <code class="docutils literal notranslate"><span class="pre">basin_velocity_model</span></code> is set to <code class="docutils literal notranslate"><span class="pre">yes</span></code>.</p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">basin_origin_longitude_deg</span></code></dt><dd><ul class="simple">
<li><p>Optional: Conditional</p></li>
<li><p>Type: Float</p></li>
<li><p>Description: The longitude of the basin origin (in degree). Note that the origin is the left bottom corner of the domain of the basin. This parameter is required when <code class="docutils literal notranslate"><span class="pre">basin_velocity_model</span></code> is set to <code class="docutils literal notranslate"><span class="pre">yes</span></code>.</p></li>
</ul>
</dd>
</dl>
<section id="basin-input-file">
<h3>Basin input file<a class="headerlink" href="#basin-input-file" title="Link to this heading">¶</a></h3>
<p>The basin input file should be a text file (the extension is not important) that describes the boundary of the basin. The format of the basin input file is described below.</p>
<blockquote>
<div><ul class="simple">
<li><p>The first line: number_of_x_points number_of_y_points number_of_z_points</p></li>
</ul>
</div></blockquote>
<p>Note the the number of z points should always be 1.</p>
<blockquote>
<div><ul class="simple">
<li><p>The second and the following lines: x y z</p></li>
</ul>
</div></blockquote>
<p>Repeat the line with x points written in ascending order, then y points in ascending order, and z in ascending. The following is a working basin input file example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">6</span> <span class="mi">2</span> <span class="mi">1</span>
<span class="mf">0.0</span> <span class="mf">0.0</span> <span class="mf">0.0</span>
<span class="mf">50.0</span> <span class="mf">0.0</span> <span class="mf">0.0</span>
<span class="mf">100.0</span> <span class="mf">0.0</span> <span class="mf">3.0</span>
<span class="mf">150.0</span> <span class="mf">0.0</span> <span class="mf">4.5</span>
<span class="mf">200.0</span> <span class="mf">0.0</span> <span class="mf">5.0</span>
<span class="mf">250.0</span> <span class="mf">0.0</span> <span class="mf">5.0</span>
<span class="mf">0.0</span> <span class="mf">50.0</span> <span class="mf">0.0</span>
<span class="mf">50.0</span> <span class="mf">50.0</span> <span class="mf">0.0</span>
<span class="mf">100.0</span> <span class="mf">50.0</span> <span class="mf">2.8</span>
<span class="mf">150.0</span> <span class="mf">50.0</span> <span class="mf">4.2</span>
<span class="mf">200.0</span> <span class="mf">50.0</span> <span class="mf">4.8</span>
<span class="mf">250.0</span> <span class="mf">50.0</span> <span class="mf">5.0</span>
</pre></div>
</div>
<p>Note that the increment of x and y should be the same. The increment of z can be different. The unit of x, y, and z is meter.</p>
<p>The total number of lines in the basin input file should be <code class="docutils literal notranslate"><span class="pre">number_of_x_points</span> <span class="pre">*</span> <span class="pre">number_of_y_points</span> <span class="pre">+</span> <span class="pre">1</span></code>. In the example above, the total number of lines is <code class="docutils literal notranslate"><span class="pre">13</span></code>.</p>
</section>
<section id="basin-c">
<h3>basin.c<a class="headerlink" href="#basin-c" title="Link to this heading">¶</a></h3>
<p>Unfortunately, we don’t have a universal way to read a text file to define the equations of the material properties used in the basin. Therefore, users have to modify the file <code class="docutils literal notranslate"><span class="pre">basin.c</span></code> to define these equations. The file <code class="docutils literal notranslate"><span class="pre">basin.c</span></code> is located in <code class="docutils literal notranslate"><span class="pre">/quake/forward</span></code> and contains a function <code class="docutils literal notranslate"><span class="pre">getBasinMaterialProperties</span></code> that defines these equations. The following is an example of <code class="docutils literal notranslate"><span class="pre">basin.c</span></code>:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;math.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;basin.h&quot;</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">getBasinMaterialProperties</span><span class="p">(</span><span class="n">cvmpayload_t</span><span class="w"> </span><span class="o">*</span><span class="n">g_props</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">z_m</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">g_props</span><span class="o">-&gt;</span><span class="n">rho</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">2140.0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">0.125</span><span class="o">*</span><span class="n">z_m</span><span class="p">;</span>
<span class="w">    </span><span class="n">g_props</span><span class="o">-&gt;</span><span class="n">Vp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1000.0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1.2</span><span class="o">*</span><span class="n">z_m</span><span class="p">;</span>
<span class="w">    </span><span class="n">g_props</span><span class="o">-&gt;</span><span class="n">Vs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">320.0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">19.0</span><span class="o">*</span><span class="n">sqrt</span><span class="p">(</span><span class="n">z_m</span><span class="p">);</span>
<span class="w">    </span><span class="n">g_props</span><span class="o">-&gt;</span><span class="n">Qs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.4</span><span class="o">*</span><span class="n">g_props</span><span class="o">-&gt;</span><span class="n">Vs</span><span class="p">;</span>
<span class="w">    </span><span class="n">g_props</span><span class="o">-&gt;</span><span class="n">Qp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.5</span><span class="o">*</span><span class="n">g_props</span><span class="o">-&gt;</span><span class="n">Qs</span><span class="p">;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Note that you should re-compile Hercules after modifying <code class="docutils literal notranslate"><span class="pre">basin.c</span></code>.</p>
</section>
</section>
<section id="misc">
<h2>Misc<a class="headerlink" href="#misc" title="Link to this heading">¶</a></h2>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">softening_factor</span></code></dt><dd><ul class="simple">
<li><p>Optional: Yes</p></li>
<li><p>Type: Float</p></li>
<li><p>Description: The softening factor used to adjust material properties according to the element size. A factor of 1 means perfect compliance between the mesh and the elements’ material properties resulting in strong changes to the results. A factor of 4 tends to double the simulation <span class="math notranslate nohighlight">\(\Delta t\)</span> without affecting too much the results. Testing is needed, and it’s recommended to use a factor larger than 4. The possible value for this parameter is 0 and any floating number larger than 1. This is an optional parameter and the default value is <code class="docutils literal notranslate"><span class="pre">0</span></code>, which asks Hercules not to change material properties with softening factor.</p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">the_threshold_Vp_over_Vs</span></code></dt><dd><ul class="simple">
<li><p>Type: Float</p></li>
<li><p>Description: The threshold to limit the <span class="math notranslate nohighlight">\(V_p/V_s\)</span> ratio. If the computed <span class="math notranslate nohighlight">\(V_p/V_s\)</span> is larger than this threshold, <span class="math notranslate nohighlight">\(V_p\)</span> will be set to this threshold multiplied by <span class="math notranslate nohighlight">\(V_s\)</span> when correcting material properties for mesh elements and in the calculation of the first Lamé parameter <span class="math notranslate nohighlight">\(\lambda\)</span>.</p></li>
</ul>
</dd>
</dl>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Material</a><ul>
<li><a class="reference internal" href="#one-dimensional-layered-profile">One-dimensional layered profile</a></li>
<li><a class="reference internal" href="#istanbul-velocity-model">Istanbul velocity model</a></li>
<li><a class="reference internal" href="#basin-velocity-model">Basin velocity model</a><ul>
<li><a class="reference internal" href="#basin-input-file">Basin input file</a></li>
<li><a class="reference internal" href="#basin-c">basin.c</a></li>
</ul>
</li>
<li><a class="reference internal" href="#misc">Misc</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="inputFile.html"
                          title="previous chapter">Input file</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="dimension.html"
                          title="next chapter">Dimension</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/rst/input/material.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="dimension.html" title="Dimension"
             >next</a> |</li>
        <li class="right" >
          <a href="inputFile.html" title="Input file"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">HerculesDoc  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="inputFile.html" >Input file</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Material</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2023, Clifford Yen, University of California, Los Angeles.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.6.
    </div>
  </body>
</html>