<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Material &#8212; HerculesDoc  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/classic.css?v=514cf933" />
    
    <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Dimension" href="dimension.html" />
    <link rel="prev" title="Input file" href="inputFile.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="dimension.html" title="Dimension"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="inputFile.html" title="Input file"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">HerculesDoc  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="inputFile.html" accesskey="U">Input file</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Material</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="material">
<h1>Material<a class="headerlink" href="#material" title="Link to this heading">¶</a></h1>
<section id="one-dimensional-layered-profile">
<h2>One-dimensional layered profile<a class="headerlink" href="#one-dimensional-layered-profile" title="Link to this heading">¶</a></h2>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">cvmdb_input_file</span></code></dt><dd><ul class="simple">
<li><p>Type: Path/profile</p></li>
<li><p>Description: The path to the material information (crustal structure) database. A special way to assign the crustal structure is setting this parameter to <code class="docutils literal notranslate"><span class="pre">profile</span></code>, i.e.</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cvmdb_input_file</span> <span class="o">=</span> <span class="n">profile</span>
</pre></div>
</div>
<ul class="simple">
<li><p>By doing so, Hercules will use the crustal structure provided by parameters <code class="docutils literal notranslate"><span class="pre">number_profile_layers</span></code> and <code class="docutils literal notranslate"><span class="pre">profile_layers</span></code> in the same input file.</p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">number_profile_layers</span></code></dt><dd><ul class="simple">
<li><p>Type: Integer</p></li>
<li><p>Description: How many layers are the parameter <code class="docutils literal notranslate"><span class="pre">profile_layers</span></code> defines.</p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">profile_layers</span></code></dt><dd><ul class="simple">
<li><p>Type: Multiple numbers</p></li>
<li><p>Format: <code class="docutils literal notranslate"><span class="pre">z_top</span> <span class="pre">Vp</span> <span class="pre">Vs</span> <span class="pre">rho</span> <span class="pre">Qp</span> <span class="pre">Qs</span></code></p></li>
<li><p>Description: The crustal structure information defined for a layered half-space. The data should be written as many lines as parameter <code class="docutils literal notranslate"><span class="pre">number_profile_layers</span></code> defines. <code class="docutils literal notranslate"><span class="pre">z_top</span></code> is the depth (in meter), <code class="docutils literal notranslate"><span class="pre">Vp</span></code> and <code class="docutils literal notranslate"><span class="pre">Vs</span></code> are velocities for compressional and shear waves (in meter/second), <code class="docutils literal notranslate"><span class="pre">rho</span></code> is the density (in kg/meter <sup>3</sup>), and <code class="docutils literal notranslate"><span class="pre">Qp</span></code> and <code class="docutils literal notranslate"><span class="pre">Qs</span></code> are Q factor damping.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="istanbul-velocity-model">
<h2>Istanbul velocity model<a class="headerlink" href="#istanbul-velocity-model" title="Link to this heading">¶</a></h2>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">Istanbul_velocity_model</span></code></dt><dd><ul class="simple">
<li><p>Optional: Yes</p></li>
<li><p>Type: Yes or No</p></li>
<li><p>Description: Whether to use the velocity model developed for the Istanbul or not. If this parameter is set to <code class="docutils literal notranslate"><span class="pre">yes</span></code>, Hercules will replace the crustal structure information in the region that is covered by the Istanbul velocity model. For the rest of the region, the material information is still provided by the database or the profile that is assigned with the parameter <code class="docutils literal notranslate"><span class="pre">cvmdb_input_file</span></code>. This is an optional parameter and the default value is <code class="docutils literal notranslate"><span class="pre">no</span></code>.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="basin-velocity-model">
<h2>Basin velocity model<a class="headerlink" href="#basin-velocity-model" title="Link to this heading">¶</a></h2>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">basin_velocity_model</span></code></dt><dd><ul class="simple">
<li><p>Optional: Yes</p></li>
<li><p>Type: Yes or No</p></li>
<li><p>Description: Whether to use the velocity model developed for a basin. If this parameter is set to <code class="docutils literal notranslate"><span class="pre">yes</span></code>, Hercules will replace the crustal structure information within the basin. For the rest of the region, the material information is still provided by the database or the profile that is assigned with the parameter <code class="docutils literal notranslate"><span class="pre">cvmdb_input_file</span></code>. This is an optional parameter and the default value is <code class="docutils literal notranslate"><span class="pre">no</span></code>. Note that only one of the <code class="docutils literal notranslate"><span class="pre">Istanbul_velocity_model</span></code>, <code class="docutils literal notranslate"><span class="pre">basin_velocity_model</span></code>, and <code class="docutils literal notranslate"><span class="pre">3D_velocity_model</span></code> can be set to <code class="docutils literal notranslate"><span class="pre">yes</span></code>. If multiple options are set to <code class="docutils literal notranslate"><span class="pre">yes</span></code>, the system prioritizes the models in the following order: Istanbul model, Basin model, and then the 3D velocity model. The latter models won’t be used if the former models are used.</p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">basin_input_file</span></code></dt><dd><ul class="simple">
<li><p>Optional: Conditional</p></li>
<li><p>Type: Path</p></li>
<li><p>Description: The path to the basin input file. This parameter is required when <code class="docutils literal notranslate"><span class="pre">basin_velocity_model</span></code> is set to <code class="docutils literal notranslate"><span class="pre">yes</span></code>. The basin input file is a text file that describes the boundary of the basin. The format of the basin input file is described in the section <a class="reference internal" href="#basin-input-file"><span class="std std-ref">Basin input file</span></a>.</p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">basin_origin_latitude_deg</span></code></dt><dd><ul class="simple">
<li><p>Optional: Conditional</p></li>
<li><p>Type: Float</p></li>
<li><p>Description: The latitude of the basin origin (in degree). Note that the origin is the left bottom corner of the domain of the basin. This parameter is required when <code class="docutils literal notranslate"><span class="pre">basin_velocity_model</span></code> is set to <code class="docutils literal notranslate"><span class="pre">yes</span></code>.</p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">basin_origin_longitude_deg</span></code></dt><dd><ul class="simple">
<li><p>Optional: Conditional</p></li>
<li><p>Type: Float</p></li>
<li><p>Description: The longitude of the basin origin (in degree). Note that the origin is the left bottom corner of the domain of the basin. This parameter is required when <code class="docutils literal notranslate"><span class="pre">basin_velocity_model</span></code> is set to <code class="docutils literal notranslate"><span class="pre">yes</span></code>.</p></li>
</ul>
</dd>
</dl>
<section id="basin-input-file">
<h3>Basin input file<a class="headerlink" href="#basin-input-file" title="Link to this heading">¶</a></h3>
<p>The basin input file should be a text file (the extension is not important) that describes the boundary of the basin. The format of the basin input file is described below.</p>
<blockquote>
<div><ul class="simple">
<li><p>The first line: number_of_x_points number_of_y_points number_of_z_points</p></li>
</ul>
</div></blockquote>
<p>Note the the number of z points should always be 1.</p>
<blockquote>
<div><ul class="simple">
<li><p>The second and the following lines: x y z</p></li>
</ul>
</div></blockquote>
<p>Repeat the line with x points written in ascending order, then y points in ascending order, and z in ascending. The following is a working basin input file example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">6</span> <span class="mi">2</span> <span class="mi">1</span>
<span class="mf">0.0</span> <span class="mf">0.0</span> <span class="mf">0.0</span>
<span class="mf">50.0</span> <span class="mf">0.0</span> <span class="mf">0.0</span>
<span class="mf">100.0</span> <span class="mf">0.0</span> <span class="mf">3.0</span>
<span class="mf">150.0</span> <span class="mf">0.0</span> <span class="mf">4.5</span>
<span class="mf">200.0</span> <span class="mf">0.0</span> <span class="mf">5.0</span>
<span class="mf">250.0</span> <span class="mf">0.0</span> <span class="mf">5.0</span>
<span class="mf">0.0</span> <span class="mf">50.0</span> <span class="mf">0.0</span>
<span class="mf">50.0</span> <span class="mf">50.0</span> <span class="mf">0.0</span>
<span class="mf">100.0</span> <span class="mf">50.0</span> <span class="mf">2.8</span>
<span class="mf">150.0</span> <span class="mf">50.0</span> <span class="mf">4.2</span>
<span class="mf">200.0</span> <span class="mf">50.0</span> <span class="mf">4.8</span>
<span class="mf">250.0</span> <span class="mf">50.0</span> <span class="mf">5.0</span>
</pre></div>
</div>
<p>Note that the increments of x and y should be the same. The increment of z can be different. The unit of x, y, and z is meter.</p>
<p>The total number of lines in the basin input file should be <code class="docutils literal notranslate"><span class="pre">number_of_x_points</span> <span class="pre">*</span> <span class="pre">number_of_y_points</span> <span class="pre">+</span> <span class="pre">1</span></code>. In the example above, the total number of lines is <code class="docutils literal notranslate"><span class="pre">13</span></code>.</p>
</section>
<section id="basin-c">
<h3>basin.c<a class="headerlink" href="#basin-c" title="Link to this heading">¶</a></h3>
<p>Unfortunately, we don’t have a universal way to read a text file to define the equations of the material properties used in the basin. Therefore, users have to modify the file <code class="docutils literal notranslate"><span class="pre">basin.c</span></code> to define these equations. The file <code class="docutils literal notranslate"><span class="pre">basin.c</span></code> is located in <code class="docutils literal notranslate"><span class="pre">./quake/forward</span></code> and contains a function <code class="docutils literal notranslate"><span class="pre">getBasinMaterialProperties</span></code> that defines these equations. The following is an example of <code class="docutils literal notranslate"><span class="pre">basin.c</span></code>:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;math.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;basin.h&quot;</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">getBasinMaterialProperties</span><span class="p">(</span><span class="n">cvmpayload_t</span><span class="w"> </span><span class="o">*</span><span class="n">g_props</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">z_m</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">g_props</span><span class="o">-&gt;</span><span class="n">rho</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">2140.0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">0.125</span><span class="o">*</span><span class="n">z_m</span><span class="p">;</span>
<span class="w">    </span><span class="n">g_props</span><span class="o">-&gt;</span><span class="n">Vp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1000.0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1.2</span><span class="o">*</span><span class="n">z_m</span><span class="p">;</span>
<span class="w">    </span><span class="n">g_props</span><span class="o">-&gt;</span><span class="n">Vs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">320.0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">19.0</span><span class="o">*</span><span class="n">sqrt</span><span class="p">(</span><span class="n">z_m</span><span class="p">);</span>
<span class="w">    </span><span class="n">g_props</span><span class="o">-&gt;</span><span class="n">Qs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.4</span><span class="o">*</span><span class="n">g_props</span><span class="o">-&gt;</span><span class="n">Vs</span><span class="p">;</span>
<span class="w">    </span><span class="n">g_props</span><span class="o">-&gt;</span><span class="n">Qp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.5</span><span class="o">*</span><span class="n">g_props</span><span class="o">-&gt;</span><span class="n">Qs</span><span class="p">;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Note that you should re-compile Hercules after modifying <code class="docutils literal notranslate"><span class="pre">basin.c</span></code>.</p>
</section>
</section>
<section id="d-velocity-model">
<h2>3D velocity model<a class="headerlink" href="#d-velocity-model" title="Link to this heading">¶</a></h2>
<p>Contrast to the Istanbul velocity model, the 3D velocity model is a general velocity model that covers any interested regions. Users need to provide the velocity model in the designated format. The format of the 3D velocity model is described in the section <a class="reference internal" href="#d-velocity-model-input-files"><span class="std std-ref">3D velocity model input files</span></a>.</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">3D_velocity_model</span></code></dt><dd><ul class="simple">
<li><p>Optional: Yes</p></li>
<li><p>Type: Yes or No</p></li>
<li><p>Description: Whether to use the general 3D velocity model or not. If this parameter is set to <code class="docutils literal notranslate"><span class="pre">yes</span></code>, Hercules will replace the crustal structure information in the region that is covered by the general 3D velocity model. For the rest of the region, the material information is still provided by the database or the profile that is assigned with the parameter <code class="docutils literal notranslate"><span class="pre">cvmdb_input_file</span></code>. This is an optional parameter and the default value is <code class="docutils literal notranslate"><span class="pre">no</span></code>. Note that only one of the <code class="docutils literal notranslate"><span class="pre">Istanbul_velocity_model</span></code>, <code class="docutils literal notranslate"><span class="pre">basin_velocity_model</span></code>, and <code class="docutils literal notranslate"><span class="pre">3D_velocity_model</span></code> can be set to <code class="docutils literal notranslate"><span class="pre">yes</span></code>. If multiple options are set to <code class="docutils literal notranslate"><span class="pre">yes</span></code>, the system prioritizes the models in the following order: Istanbul model, Basin model, and then the 3D velocity model. The latter models won’t be used if the former models are used.</p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">3D_velocity_model_origin_latitude_deg</span></code></dt><dd><ul class="simple">
<li><p>Optional: Conditional</p></li>
<li><p>Type: Float</p></li>
<li><p>Description: The latitude of the origin of the 3D velocity model (in degree). Note that the origin is the left bottom corner of the domain of the 3D velocity model. This parameter is required when <code class="docutils literal notranslate"><span class="pre">3D_velocity_model</span></code> is set to <code class="docutils literal notranslate"><span class="pre">yes</span></code>.</p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">3D_velocity_model_origin_longitude_deg</span></code></dt><dd><ul class="simple">
<li><p>Optional: Conditional</p></li>
<li><p>Type: Float</p></li>
<li><p>Description: The longitude of the origin of the 3D velocity model (in degree). Note that the origin is the left bottom corner of the domain of the 3D velocity model. This parameter is required when <code class="docutils literal notranslate"><span class="pre">3D_velocity_model</span></code> is set to <code class="docutils literal notranslate"><span class="pre">yes</span></code>.</p></li>
</ul>
</dd>
</dl>
<section id="d-velocity-model-input-files">
<h3>3D velocity model input files<a class="headerlink" href="#d-velocity-model-input-files" title="Link to this heading">¶</a></h3>
<p>To make it easier to understand the format of the 3D velocity model input files, here is an example before we convert it to the format that Hercules can read:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mf">1709.769</span><span class="p">,</span><span class="mf">4188.062</span><span class="p">,</span><span class="mf">1.85</span>
<span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mi">1000</span><span class="p">,</span><span class="mf">1894.495</span><span class="p">,</span><span class="mf">4640.546</span><span class="p">,</span><span class="mf">1.898</span>
<span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mi">3000</span><span class="p">,</span><span class="mf">2430.156</span><span class="p">,</span><span class="mf">5952.642</span><span class="p">,</span><span class="mf">2.02</span>
<span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mi">17400</span><span class="p">,</span><span class="mf">3400.0</span><span class="p">,</span><span class="mf">8328.265</span><span class="p">,</span><span class="mf">2.197</span>
<span class="mf">500.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mf">1743.876</span><span class="p">,</span><span class="mf">4271.606</span><span class="p">,</span><span class="mf">1.859</span>
<span class="mf">500.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mi">1000</span><span class="p">,</span><span class="mf">1920.505</span><span class="p">,</span><span class="mf">4704.257</span><span class="p">,</span><span class="mf">1.905</span>
<span class="mf">500.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mi">5000</span><span class="p">,</span><span class="mf">2625.958</span><span class="p">,</span><span class="mf">6432.257</span><span class="p">,</span><span class="mf">2.06</span>
<span class="mf">500.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mi">17400</span><span class="p">,</span><span class="mf">3400.0</span><span class="p">,</span><span class="mf">8328.265</span><span class="p">,</span><span class="mf">2.197</span>
<span class="mf">0.0</span><span class="p">,</span><span class="mf">500.0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mf">1577.978</span><span class="p">,</span><span class="mf">3865.241</span><span class="p">,</span><span class="mf">1.814</span>
<span class="mf">0.0</span><span class="p">,</span><span class="mf">500.0</span><span class="p">,</span><span class="mi">1000</span><span class="p">,</span><span class="mf">1840.914</span><span class="p">,</span><span class="mf">4509.3</span><span class="p">,</span><span class="mf">1.885</span>
<span class="mf">0.0</span><span class="p">,</span><span class="mf">500.0</span><span class="p">,</span><span class="mi">6000</span><span class="p">,</span><span class="mf">2714.21</span><span class="p">,</span><span class="mf">6648.43</span><span class="p">,</span><span class="mf">2.077</span>
<span class="mf">500.0</span><span class="p">,</span><span class="mf">500.0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mf">1609.918</span><span class="p">,</span><span class="mf">3943.478</span><span class="p">,</span><span class="mf">1.823</span>
<span class="mf">500.0</span><span class="p">,</span><span class="mf">500.0</span><span class="p">,</span><span class="mi">1000</span><span class="p">,</span><span class="mf">1861.275</span><span class="p">,</span><span class="mf">4559.174</span><span class="p">,</span><span class="mf">1.89</span>
<span class="mf">500.0</span><span class="p">,</span><span class="mf">500.0</span><span class="p">,</span><span class="mi">5000</span><span class="p">,</span><span class="mf">2712.018</span><span class="p">,</span><span class="mf">6643.06</span><span class="p">,</span><span class="mf">2.076</span>
<span class="mf">500.0</span><span class="p">,</span><span class="mf">500.0</span><span class="p">,</span><span class="mi">17400</span><span class="p">,</span><span class="mf">3400.0</span><span class="p">,</span><span class="mf">8328.265</span><span class="p">,</span><span class="mf">2.197</span>
</pre></div>
</div>
<p>The meanings of each column are:</p>
<blockquote>
<div><ul class="simple">
<li><p>x (in meter, along the north-south direction with north being positive)</p></li>
<li><p>y (in meter, along the east-west direction with east being positive)</p></li>
<li><p>z (in meter, positive downward)</p></li>
<li><p>Vs (in meter/second)</p></li>
<li><p>Vp (in meter/second)</p></li>
<li><p>density (in kg/meter <sup>3</sup>)</p></li>
</ul>
</div></blockquote>
<p>The order of the columns is not important since this file has to be converted into multiple files which will be explained later. Note that the increments of x and y can be different, but they have to be consistent (i.e. the increment of x has to be the same for all lines, so does the increment of y). The increment of z can also be different, and it can varies from point to point. The number layers can be different for different points, too.</p>
<p>Some rules have to be followed when writing the 3D velocity model input file:</p>
<blockquote>
<div><ul class="simple">
<li><p>The x coordinates should be written in ascending order</p></li>
<li><p>The y coordinates should be written in ascending order</p></li>
<li><p>Finish writing all points with the same y coordinate before moving to the next y coordinate.</p></li>
<li><p>For each x-y coordinate, the z coordinates should be written in ascending order and should be unique.</p></li>
</ul>
</div></blockquote>
<p>The file above should be converted into multiple files. The required files include: <code class="docutils literal notranslate"><span class="pre">x.in</span></code>, <code class="docutils literal notranslate"><span class="pre">y.in</span></code>, <code class="docutils literal notranslate"><span class="pre">z.in</span></code>, <code class="docutils literal notranslate"><span class="pre">vs.in</span></code>, <code class="docutils literal notranslate"><span class="pre">vp.in</span></code>, <code class="docutils literal notranslate"><span class="pre">rho.in</span></code>, and <code class="docutils literal notranslate"><span class="pre">index.in</span></code>.</p>
<p>The file <code class="docutils literal notranslate"><span class="pre">x.in</span></code> contains the x coordinates of all points. The following is the content of <code class="docutils literal notranslate"><span class="pre">x.in</span></code> for the example above:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">2</span>
<span class="mf">0.0</span>
<span class="mf">500.0</span>
</pre></div>
</div>
<p>The first line of the file is the number of points along the x direction (same as the number of following lines in the file). The following lines are the x coordinates of all points. Note that the x coordinates should be written in ascending order and should be unique. The same rule applies to <code class="docutils literal notranslate"><span class="pre">y.in</span></code>. In this case, the content of <code class="docutils literal notranslate"><span class="pre">y.in</span></code> would be the same as <code class="docutils literal notranslate"><span class="pre">x.in</span></code>. But if the increment of y or/and the number of points of y are different from x, the content of <code class="docutils literal notranslate"><span class="pre">y.in</span></code> will be different.</p>
<p>For <code class="docutils literal notranslate"><span class="pre">z.in</span></code>, <code class="docutils literal notranslate"><span class="pre">vs.in</span></code>, <code class="docutils literal notranslate"><span class="pre">vp.in</span></code>, and <code class="docutils literal notranslate"><span class="pre">rho.in</span></code>, the content in each of these files is simply the corresponding column in the original file. For example, the content of <code class="docutils literal notranslate"><span class="pre">z.in</span></code> for the example above is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">15</span>
<span class="mi">0</span>
<span class="mi">1000</span>
<span class="mi">3000</span>
<span class="mi">17400</span>
<span class="mi">0</span>
<span class="mi">1000</span>
<span class="mi">5000</span>
<span class="mi">17400</span>
<span class="mi">0</span>
<span class="mi">1000</span>
<span class="mi">6000</span>
<span class="mi">0</span>
<span class="mi">1000</span>
<span class="mi">5000</span>
<span class="mi">17400</span>
</pre></div>
</div>
<p>Again, the first line is the total number of the data (same as the number of following lines in the file). The following lines are the z coordinates of all points. The same rule applies to <code class="docutils literal notranslate"><span class="pre">vs.in</span></code>, <code class="docutils literal notranslate"><span class="pre">vp.in</span></code>, and <code class="docutils literal notranslate"><span class="pre">rho.in</span></code>.</p>
<p>The file <code class="docutils literal notranslate"><span class="pre">index.in</span></code> is a special file that includes the starting indices for all points. For example, the content of <code class="docutils literal notranslate"><span class="pre">index.in</span></code> for the example above is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">4</span>
<span class="mi">0</span>
<span class="mi">4</span>
<span class="mi">8</span>
<span class="mi">11</span>
</pre></div>
</div>
<p>The first line is the total number of the x-y coordinates (same as the number of the following lines. It’s also the same as the multiplication of the number of x points and the number of y points). The following lines are the starting indices for all points.</p>
<p>For example, the first point (0.0, 0.0) has the starting index of 0 and the second point (500.0, 0.0) has the starting index of 4, which means the first (index 0) to the fourth (index 3) line in <code class="docutils literal notranslate"><span class="pre">z.in</span></code>, <code class="docutils literal notranslate"><span class="pre">vs.in</span></code>, <code class="docutils literal notranslate"><span class="pre">vp.in</span></code>, and <code class="docutils literal notranslate"><span class="pre">rho.in</span></code> are the data for the first point. Similarly, the second point (500.0, 0.0) has the starting index of 4 and the third point (0.0, 500.0) has the starting index of 8, which means the fifth (index 4) to the eighth (index 7) line in <code class="docutils literal notranslate"><span class="pre">z.in</span></code>, <code class="docutils literal notranslate"><span class="pre">vs.in</span></code>, <code class="docutils literal notranslate"><span class="pre">vp.in</span></code>, and <code class="docutils literal notranslate"><span class="pre">rho.in</span></code> are the data for the second point. So on and so forth.</p>
<p>The conversion can be done easily with the help of Pandas, a Python library. For your convenience, here is a working Python script that can convert the original file to the required files:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="k">def</span> <span class="nf">convertToHerculesVelocityModel</span><span class="p">(</span><span class="n">fileName</span><span class="p">):</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">fileName</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;z&#39;</span><span class="p">,</span> <span class="s1">&#39;vs&#39;</span><span class="p">,</span> <span class="s1">&#39;vp&#39;</span><span class="p">,</span> <span class="s1">&#39;rho&#39;</span><span class="p">]:</span>
        <span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">col</span><span class="o">+</span><span class="s1">&#39;.in&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="p">])])</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">])</span>
    <span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
    <span class="n">indexSeries</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">to_series</span><span class="p">()</span>
    <span class="n">indexSeries</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;index.in&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">indexSeries</span><span class="p">)])</span>
    <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">]:</span>
        <span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">()</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">col</span><span class="o">+</span><span class="s1">&#39;.in&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">())])</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">convertToHerculesVelocityModel</span><span class="p">(</span><span class="s1">&#39;herculesVelocityModel.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>All the converted files should be placed in <code class="docutils literal notranslate"><span class="pre">./inputfiles/materialfiles</span></code> in order to let Hercules find them. The original file is not necessary, but it is recommended to keep it to easily understand the meaning of each converted file.</p>
</section>
</section>
<section id="misc">
<h2>Misc<a class="headerlink" href="#misc" title="Link to this heading">¶</a></h2>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">softening_factor</span></code></dt><dd><ul class="simple">
<li><p>Optional: Yes</p></li>
<li><p>Type: Float</p></li>
<li><p>Description: The softening factor used to adjust material properties according to the element size. A factor of 1 means perfect compliance between the mesh and the elements’ material properties resulting in strong changes to the results. A factor of 4 tends to double the simulation <span class="math notranslate nohighlight">\(\Delta t\)</span> without affecting too much the results. Testing is needed, and it’s recommended to use a factor larger than 4. The possible value for this parameter is 0 and any floating number larger than 1. This is an optional parameter and the default value is <code class="docutils literal notranslate"><span class="pre">0</span></code>, which asks Hercules not to change material properties with softening factor.</p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">the_threshold_Vp_over_Vs</span></code></dt><dd><ul class="simple">
<li><p>Type: Float</p></li>
<li><p>Description: The threshold to limit the <span class="math notranslate nohighlight">\(V_p/V_s\)</span> ratio. If the computed <span class="math notranslate nohighlight">\(V_p/V_s\)</span> is larger than this threshold, <span class="math notranslate nohighlight">\(V_p\)</span> will be set to this threshold multiplied by <span class="math notranslate nohighlight">\(V_s\)</span> when correcting material properties for mesh elements and in the calculation of the first Lamé parameter <span class="math notranslate nohighlight">\(\lambda\)</span>.</p></li>
</ul>
</dd>
</dl>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Material</a><ul>
<li><a class="reference internal" href="#one-dimensional-layered-profile">One-dimensional layered profile</a></li>
<li><a class="reference internal" href="#istanbul-velocity-model">Istanbul velocity model</a></li>
<li><a class="reference internal" href="#basin-velocity-model">Basin velocity model</a><ul>
<li><a class="reference internal" href="#basin-input-file">Basin input file</a></li>
<li><a class="reference internal" href="#basin-c">basin.c</a></li>
</ul>
</li>
<li><a class="reference internal" href="#d-velocity-model">3D velocity model</a><ul>
<li><a class="reference internal" href="#d-velocity-model-input-files">3D velocity model input files</a></li>
</ul>
</li>
<li><a class="reference internal" href="#misc">Misc</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="inputFile.html"
                          title="previous chapter">Input file</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="dimension.html"
                          title="next chapter">Dimension</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/rst/input/material.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="dimension.html" title="Dimension"
             >next</a> |</li>
        <li class="right" >
          <a href="inputFile.html" title="Input file"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">HerculesDoc  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="inputFile.html" >Input file</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Material</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2023, Clifford Yen, University of California, Los Angeles.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.6.
    </div>
  </body>
</html>